{"version":3,"sources":["../../src/pages/work-order/work-order.module.ts","../../src/pages/work-order/work-order.ts"],"names":[],"mappings":"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","file":"0.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { WorkOrder } from './work-order';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WorkOrder,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(WorkOrder),\r\n  ],\r\n  exports: [\r\n    WorkOrder\r\n  ]\r\n})\r\nexport class WorkOrderModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-order/work-order.module.ts","import { Component, OnInit, ViewChild        } from '@angular/core'                     ;\r\nimport { FormGroup, FormControl, Validators  } from \"@angular/forms\"                    ;\r\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular'  ;\r\nimport { DBSrvcs                             } from '../../providers/db-srvcs'          ;\r\nimport { AuthSrvcs                           } from '../../providers/auth-srvcs'        ;\r\nimport { TimeSrvc                            } from '../../providers/time-parse-srvc'   ;\r\nimport { ReportBuildSrvc                     } from '../../providers/report-build-srvc' ;\r\nimport * as moment                             from 'moment'                            ;\r\nimport { Log, CONSOLE                        } from '../../config/config.functions'     ;\r\n\r\n@IonicPage({ name: 'Work Order Form' })\r\n\r\n@Component({\r\n  selector: 'page-work-order',\r\n  templateUrl: 'work-order.html',\r\n})\r\n\r\nexport class WorkOrder implements OnInit {\r\n  @ViewChild('reportDate') reportDateField;\r\n  @ViewChild('startTime') startTimeField;\r\n\r\n  title        : string   = 'Work Report'             ;\r\n  setDate      : Date     = new Date()                ; \r\n  year         : number   = this.setDate.getFullYear(); \r\n  mode         : string   = 'New'                     ; \r\n  workOrder    : FormGroup; \r\n  repairHrs    : number   ; \r\n  profile      : any = { }; \r\n  tmpReportData: any      ; \r\n  docID        : string   ; \r\n  idDate       : string   ;\r\n  idTime       : string   ;\r\n\r\n  strtHrs   ; \r\n  strtMin   ; \r\n  hrsHrs    ; \r\n  hrsMin    ; \r\n  endMin    ; \r\n  endHrs    ; \r\n  prsHrs    ; \r\n  prsMin    ; \r\n  rprtDate  : Date     = new Date()   ; \r\n  timeStarts: Date     = new Date()   ;\r\n  reportDate: any      = moment()     ;\r\n  startTime : any      = moment()     ;\r\n  timeEnds                            ;\r\n  syncError : boolean  = false        ;\r\n  // , private dbSrvcs: DBSrvcs\r\n\r\nconstructor(public navCtrl: NavController, public navParams: NavParams, private dbSrvcs: DBSrvcs, private timeSrvc: TimeSrvc, public reportBuilder: ReportBuildSrvc, public loadingCtrl: LoadingController) { }\r\n\r\n  ionViewDidLoad() { console.log('ionViewDidLoad WorkOrder'); }\r\n\r\n  ngOnInit() {\r\n    if (this.navParams.get('mode') !== undefined) { this.mode = this.navParams.get('mode'); }\r\n    console.log(this.mode);\r\n    console.log(this.setDate);\r\n    console.log(this.year);\r\n    console.log(this.rprtDate);\r\n\r\n    this.initializeForm();\r\n  }\r\n\r\n\r\n  private initializeForm() {\r\n    this.workOrder = new FormGroup({\r\n      'timeStarts': new FormControl(this.startTime.format(), Validators.required), \r\n      'timeEnds'  : new FormControl(null, Validators.required),\r\n      'repairHrs' : new FormControl(null, Validators.required), \r\n      'uNum'      : new FormControl(null, Validators.required), \r\n      'wONum'     : new FormControl(null, Validators.required), \r\n      'notes'     : new FormControl(null, Validators.required), \r\n      'rprtDate'  : new FormControl(this.reportDate.format(), Validators.required),\r\n      'timeStamp' : new FormControl({ value: this.reportDate, disabled: true}, Validators.required)\r\n    });\r\n    // setTimeout(_ => {\r\n    //   this.reportDateField.setValue(this.reportDate.format());\r\n    //   this.startTimeField.setValue(this.startTime.format());\r\n    // });\r\n  }\r\n\r\n  onSubmit() {\r\n    this.processWO();\r\n  }\r\n\r\n/**\r\n * Calcualtes workOrderData.timeEnds given workOrderData.timeStarts \r\n * and workOrderData.repairHrs\r\n * \r\n * @private\r\n * @param {any} workOrderData \r\n * \r\n * @memberOf WorkOrder\r\n */\r\n  private calcEndTime(workOrderData) {\r\n    const _Xdec = /(00|15|30|45)(?!\\:\\d{2})/;\r\n    const _Xhrs = /([0-9]{2})(?=:\\d{2})/;\r\n\r\n    this.prsHrs = _Xhrs.exec(workOrderData.timeStarts);\r\n    this.strtHrs = parseInt(this.prsHrs[0]).toString();\r\n    this.prsMin = _Xdec.exec(workOrderData.timeStarts);\r\n    \r\n    if (parseInt(this.prsMin[0]) === 0) {\r\n      this.strtMin = '00';\r\n    }\r\n    else if (parseInt(this.prsMin[0]) === 15) {\r\n      this.strtMin = '15';\r\n    }\r\n    else if (parseInt(this.prsMin[0]) === 30) {\r\n      this.strtMin = '30';\r\n    }\r\n    else {\r\n      this.strtMin = '45';\r\n    }\r\n\r\n    workOrderData.timeStarts = this.strtHrs + ':' + this.strtMin;\r\n\r\n    this.hrsHrs = Math.floor(workOrderData.repairHrs);\r\n    this.hrsMin = (workOrderData.repairHrs%1)*60;\r\n    \r\n    if (parseInt(this.strtMin) + this.hrsMin > 60) {\r\n\r\n      if (parseInt(this.strtHrs) + this.hrsHrs + 1 > 24) \r\n            { this.endHrs = parseInt(this.strtHrs) + this.hrsHrs -23; this.endMin = parseInt(this.strtMin) + this.hrsMin - 60; } \r\n      else  { this.endHrs = parseInt(this.strtHrs) + this.hrsHrs + 1; this.endMin = parseInt(this.strtMin) + this.hrsMin - 60; }\r\n    }\r\n\r\n    else { \r\n      if (parseInt(this.strtHrs) + this.hrsHrs > 24) \r\n            { this.endHrs = parseInt(this.strtHrs) + this.hrsHrs -24; this.endMin = parseInt(this.strtMin) + this.hrsMin;      }\r\n      else  { this.endHrs = parseInt(this.strtHrs) + this.hrsHrs;     this.endMin = parseInt(this.strtMin) + this.hrsMin;      }\r\n    }\r\n    \r\n    if( this.endHrs < 10 ) {\r\n      if( this.endHrs === 0 ) { this.endHrs = '00'       }\r\n      else { this.endHrs = '0' + this.endHrs.toString(); }\r\n    } else { this.endHrs = this.endHrs.toString();       }\r\n\r\n    if( this.endMin === 0 ) { this.endMin = '00';        }\r\n    if( this.hrsMin === 0 ) { this.hrsMin = '00';        }\r\n\r\n    this.timeEnds           = this.endHrs + ':' + this.endMin;\r\n    workOrderData.timeEnds  = this.endHrs + ':' + this.endMin;\r\n    workOrderData.repairHrs = this.hrsHrs + ':' + this.hrsMin;\r\n\r\n    console.log(this.strtHrs);\r\n    console.log(this.endHrs);\r\n\r\n    workOrderData.repairHrs = this.hrsHrs + ':' + this.hrsMin;\r\n  }\r\n\r\n  genReportID() {\r\n    this.timeSrvc.getParsedDate();\r\n    this.idDate = this.timeSrvc._arrD[1].toString() +\r\n                  this.timeSrvc._arrD[2].toString() +\r\n                  this.timeSrvc._arrD[0].toString() +\r\n                  this.timeSrvc._arrD[3].toString();\r\n    this.idTime = this.timeSrvc._arrD[4].toString() +\r\n                  this.timeSrvc._arrD[5].toString() +\r\n                  this.timeSrvc._arrD[6].toString();\r\n      console.log( this.idDate );\r\n    // let firstInitial = this.profile.firstName.slice(0,1);\r\n    // let lastInitial = this.profile.lastName.slice(0,1);\r\n    this.docID = this.profile.avatarName + '_' + this.idDate + this.idTime;\r\n    console.log(this.docID);\r\n  }\r\n\r\n  processWO() {\r\n    const workOrderData = this.workOrder.value;\r\n    this.calcEndTime(workOrderData);\r\n    console.log(\"processWO() has initial workOrderData:\");\r\n    console.log(workOrderData);\r\n\r\n    this.dbSrvcs.checkLocalDoc( '_local/techProfile')\r\n    .then( docExists => {\r\n      if(docExists) {\r\n        console.log(\"docExists is true\");\r\n        this.dbSrvcs.getDoc('_local/techProfile').then(res => {\r\n          this.profile = res;\r\n          if(typeof this.profile.avatarName == 'undefined') {\r\n            this.profile.avatarName = 'PaleRider';\r\n          }\r\n          delete this.profile._id;\r\n          delete this.profile._rev;\r\n          this.genReportID();\r\n          if( typeof this.profile.updated == 'undefined' || this.profile.updated === false ) {\r\n            /* Update flag not set, force user to visit Settings page at gunpoint */\r\n            this.tmpReportData = workOrderData;\r\n            this.tmpReportData._id = '_local/tmpReport';\r\n            this.tmpReportData.docID = this.docID;\r\n            // this.tmpReportData._rev = ;\r\n            console.log(\"Update flag not set, tmpReportData is:\");\r\n            console.log( this.tmpReportData );\r\n            this.dbSrvcs.addLocalDoc( this.tmpReportData )\r\n            \r\n            /* Notify user and go to Settings page */\r\n            // this.navCtrl.push('Report Settings');\r\n\r\n          } else {\r\n            /* Update flag is true, good to submit work order */\r\n            console.log(\"docExists is false\");\r\n            this.tmpReportData = workOrderData;\r\n            this.tmpReportData.profile = this.profile;\r\n            this.tmpReportData._id = '_local/tmpReport';\r\n            this.tmpReportData.docID = this.docID;\r\n            // this.tmpReportData._rev = '0-1';\r\n            console.log(\"Update flag set, tmpReportData is:\");\r\n            console.log( this.tmpReportData );\r\n            \r\n            this.dbSrvcs.addLocalDoc( this.tmpReportData ).then((res) => {\r\n              console.log(\"About to generate work order\");\r\n              return this.reportBuilder.getLocalDocs();\r\n            }).then((final) => {\r\n              console.log(\"Done generating work order.\");\r\n              return DBSrvcs.syncSquaredToServer('reports');\r\n            }).then((final2) => {\r\n              Log.l(\"Successfully synchronized work order to CouchDB server!\");\r\n              Log.l(final2);\r\n              // this.navCtrl.push('Report Settings');\r\n              // this.navCtrl.push(\"OnSiteHome\");\r\n            }).catch((err) => {\r\n              Log.l(\"Error while trying to sync work order to CouchDB server!\");\r\n              Log.w(err);\r\n              this.syncError = true;\r\n            });\r\n          }\r\n        })\r\n      } else {\r\n        console.error(\"Tech profile does not exist. Contact developers.\");\r\n      }\r\n    }).catch((outerError) => {\r\n      Log.l(\"Error checking existence of local document store.\");\r\n      Log.w(outerError);\r\n    });\r\n  }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-order/work-order.ts"],"sourceRoot":""}