<ion-header>
  <ion-navbar>
    <ion-title class="app-title">
      <span class="app-page-title">{{"settings_title" | translate}}</span>
      <span class="app-user" *ngIf="ud.getTechName()">{{ud.getTechName()}}</span>
    </ion-title>
    <ion-buttons right>
      <button class="settings-advanced-button" ion-button icon-only (press)="showAdvanced()">
        <ion-icon class="settings-advanced-icon" name="ios-settings-outline"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding class="page-content settings-page-content" (swipe)="tabServ.handleSwipe($event)" *ngIf="dataReady">
  <ion-list *ngIf="dataReady">
    <ion-item-group>
      <ion-item-divider class="perfectly-normal-divider" color="light">{{'app_info' | translate}}</ion-item-divider>
      <ion-item>
        <ion-label>
          {{'version' | translate}}: {{appName}}
          <span class="settings-app-version" (tap)="ud.updatePerfectlyNormalEvent($event)">{{appVersion}}</span>
        </ion-label>
      </ion-item>
    </ion-item-group>
    <ion-item-group>
      <ion-item-divider color="light">{{'user_settings' | translate}}</ion-item-divider>
      <ion-item>
        <ion-label>{{'language' | translate}}</ion-label>
        <ion-select [(ngModel)]="language" (ionChange)="updateLanguage($event)">
          <ion-option *ngFor="let language of languages" [value]="language">{{language.display}}</ion-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label>{{'sounds' | translate}}</ion-label>
        <ion-toggle [(ngModel)]="sounds" (ngModelChange)="toggleSounds()"></ion-toggle>
      </ion-item>
    </ion-item-group>
    <ion-item-group *ngIf="advanced">
      <ion-item-divider color="light">{{'user_settings' | translate}}</ion-item-divider>
      <ion-item>
        <ion-label>{{'stay_in_reports' | translate}}</ion-label>
        <ion-toggle [(ngModel)]="stayInReports" (ngModelChange)="toggleStayInReports()"></ion-toggle>
      </ion-item>
      <ion-item>
        <ion-label>{{'weeks_to_show' | translate}}</ion-label>
        <ion-select [(ngModel)]="weeksToShow" (ionChange)="updateWeeksToShow(weeksToShow)">
          <ion-option *ngFor="let weeksToShow of weeksToShowList" [value]="weeksToShow">{{weeksToShow}}</ion-option>
        </ion-select>
      </ion-item>
    </ion-item-group>
    <ion-item-group>
      <ion-item-divider color="light">{{'app_functions' | translate}} </ion-item-divider>
      <ion-item>
        <button ion-item color="danger" class="logout-button" (tap)="confirmLogout()">{{'logout' | translate}}</button>
      </ion-item>
      <ion-item>
        <button ion-item color="danger" class="restart-app-button" (tap)="confirmAppReload()">{{'restart_app' | translate}}</button>
      </ion-item>
      <ion-item>
        <button ion-item color="secondary" class="help-button" (tap)="sendComment()">{{'comment_button' | translate}}</button>
      </ion-item>
      <ion-item>
        <button ion-item color="secondary" class="resync-button" (tap)="syncData()" (press)="syncHelp()">{{'sync_data' | translate}}</button>
      </ion-item>
    </ion-item-group>
  </ion-list>
</ion-content>
<ion-digit-keyboard (buttonClick)="onKeyboardButtonClick()" [visible]="keysetup.visible" [width]="keysetup.width" [swipeToHide]="keysetup.swipeToHide"></ion-digit-keyboard>
<!-- <onsite-tabs></onsite-tabs> -->
